subcategories_keywords = {
    'เนื้อสัตว์': {
        'วัว': ['วัว'],
        'ไก่': ['ไก่'],
        'ปู': ['ปู'],
        'กั้ง': ['กั้ง'],
        'ไข่': ['ไข่'],
        'ปลา': ['ปลา'],
        'แกะ': ['แกะ'],
        'เครื่องใน': ['เครื่องใน'],
        'หมู': ['หมู'],
        'หอย': ['หอย'],
        'เป็ด': ['เป็ด'],
        'หมึก': ['หมึก'],
        'กุ้ง': ['กุ้ง'],
    },
    'ผัก': {
          'พริกหยวก': ['bell pepper', 'พริกหยวก','capsicum'],
           'หัวไชเท้า' : [ 'raddish', 'หัวไชเท้า'], 
           'ผักโขม': ['spinach', 'ผักโขม'],
           'ชะอม': ['acacia', 'ชะอม'],
           'หน่อไม้ฝรั่ง': ['asparagus', 'หน่อไม้ฝรั่ง'], 
           'ข้าวโพดอ่อน': ['baby corn', 'ข้าวโพดอ่อน'], 
           'หน่อไม้': ['bamboo shoot', 'หน่อไม้'],
           'โหระพา': ['basil', 'โหระพา'], 
           'ถั่วงอก': ['bean sprout', 'ถั่วงอก'], 
           'สะตอ': ['bitter been', 'สะตอ'], 
           'มะระ': ['bitter melon', 'มะระ'], 
           'กวางตุ้ง': ['boy choy', 'กวางตุ้ง'],
           'บร็อคโคลี': ['broccoli', 'บร็อคโคลี'], 
           'กะหล่ำปลี': ['cabbage', 'กะหล่ำปลี'],
           'แครอท': ['carrot', 'แครอท'],
           'ดอกกะหล่ำ': ['cauliflower', 'ดอกกะหล่ำ'], 
           'ขึ้นฉ่าย': [ 'celery', 'ขึ้นฉ่าย'], 
           'พริก': ['chilli', 'พริก'],
           'ขิง': ['ginger', 'ขิง'],
           'ผักกาดขาว': ['chinese cannage', 'ผักกาดขาว'], 
           'ผักชี': ['corainder', 'ผักชี'],
           'แตงกวา': ['cucumber', 'แตงกวา'], 
           'มะเขือ': [ 'egglant', 'มะเขือ'],
           'กระเทียม': ['garlic', 'กระเทียม'],
           'ดอกหอม': ['garlic chives', 'ดอกหอม'], 
           'ตำลึง': ['ivy gourd', 'ตำลึง'],
           'มะกรูด': ['kaffir lime', 'มะกรูด'], 
           'คะน้า': ['kale', 'คะน้า'],
           'ตะไคร้': ['lemon grass', 'ตะไคร้'], 
           'ถั่วฝักยาว': ['long bean', 'ถั่วฝักยาว'],
           'รากบัว': ['lotus stem', 'รากบัว'],
           'สะเดา': ['neem', 'สะเดา'], 
           'หัวหอม': ['onion', 'หัวหอม'], 
           'พริกไทย': ['pepper', 'พริกไทย'], 
           'สาระแหน่': ['peppermint', 'สาระแหน่'], 
           'ผักสลัด': ['salad vegetable', 'กรีนโอ๊ค', 'green oak', 'เรดโอ๊ค', 'red oak', 'เรดคอรัล', 'red coral', 'บัตเตอร์เฮด', 'butterhead', 'คอส', 'cos', 'ผักกาดแก้ว', 'lceberg lettuce', 'เบบี้ร็อคเก็ต', 'baby rocket', 'wild rocket', 'ไวล์ดร็อคเก็ต', 'เรดิชิโอ', 'radicchio', 'mizuna', 'มิซูน่า', 'ฟิลเลย์ไแซ์เบิร์ก', 'frillice iceberg', 'ผักกาดหอม', 'green coral', 'เคล'],
           'ดอกแค': ['sesbania grandiflora', 'ดอกแค'], 
           'ต้นหอม': ['spring onion', 'ต้นหอม'],
           'กะเพรา': ['sweet basil', 'กะเพรา'], 
           'ผักบุ้ง': ['water spinach', 'ผักบุ้ง'], 
           'ฟัก': ['squash', 'ฟัก'],
    },
    'ผลไม้': {
        'แอปเปิล': ['apple','แอปเปิล'],
        'อะโวคาโด': ['avocado','อะโวคาโด'],
        'กล้วย': ['banana','กล้วย'],
        'บลูเบอร์รี': ['blueberry','บลูเบอร์รี'],
        'แคนตาลูป': ['cantaloupe','แคนตาลูป'],
        'เชอร์รี': ['cherry','เชอร์รี'],
        'สาลี่': ['chinese pear','สาลี่'],
        'มะพร้าว': ['coconut','มะพร้าว'],
        'ข้าวโพด': ['corn','ข้าวโพด'],
        'น้อยหน่า': ['custard apple','น้อยหน่า'],
        'แก้วมังกร': ['dragon fruit','แก้วมังกร'],
        'ทุเรียน': ['durian','ทุเรียน'],
        'องุ่น': ['grapes','องุ่น'],
        'ฝรั่ง': ['guava','ฝรั่ง'],
        'ขนุน': ['jackfruit','ขนุน'],
        'แห้ว': ['jicama','แห้ว'],
        'กีวี': ['kiwi','กีวี'],
        'เลมอน': ['lemon','เลมอน'],
        'ลองกอง': ['longan','ลองกอง'],
        'ลิ้นจี่': ['lychee','ลิ้นจี่'],
        'มะม่วง': ['mango','มะม่วง'],
        'มังคุด': ['mangosteen','มังคุด'],
        'มะปราง': ['maprang','มะปราง'],
        'เมลอน': ['melon','เมลอน'],
        'ส้ม': ['orange','ส้ม'],
        'มะละกอ': ['papaya','มะละกอ'],
        'เสาวรส': ['passion fruit','เสาวรส'],
        'พีช': ['peach','พีช'],
        'แพร์': ['pear','แพร์'],
        'สับปะรด': ['pineapple','สับปะรด'],
        'พลัม': ['plum','พลัม'],
        'ทับทิม': ['pomegranate','ทับทิม'],
        'มันฝรั่ง': ['patato','มันฝรั่ง'],
        'ฟักทอง': ['pumpkin','ฟักทอง'],
        'เงาะ': ['rambutan','เงาะ'],
        'ชมพู่': ['rose apple','ชมพู่'],
        'สละ': ['salak','สละ'],
        'ละมุด': ['sapodilla','ละมุด'],
        'สตรอว์เบอร์รี': ['strawberry','สตรอว์เบอร์รี'],
        'เผือก': ['taro','เผือก'],
        'มะเขือเทศ': ['tomato','มะเขือเทศ'],
        'แตงโม': ['watermelon',''],


    },
    'เห็ด' :{
        'เห็ดเข็มทอง': [ 'golden needle mushroom', 'เห็ดเข็มทอง'],
        'เห็ดหอม': ['เห็ดหอม'],
        'เห็ดหูหนูดำ': ['เห็ดหูหนูดำ'],
        'เห็นหูหนูขาว': ['เห็นหูหนูขาว'],
        'เห็ดหลินจือ': ['เห็ดหลินจือ'],
        'เห็ดกระดุม': ['เห็ดกระดุม'],
        'เห็นแชมปิญอง': ['เห็นแชมปิญอง'],
        'เห็ดนางรม': ['เห็ดนางรม'],
        'เห็ดนางฟ้า': ['เห็ดนางฟ้า'],
        'เห็นเป๋าฮื้อ': ['เห็นเป๋าฮื้อ'],
        'เห็ดฟาง': ['เห็ดฟาง'],
        'เห็ดโคน': ['เห็ดโคน'],
        'เห็ดเผาะ': ['เห็ดเผาะ'],
        'เห็ดขอนขาว': ['เห็ดขอนขาว'],
        'เห็ดยานางิ': ['เห็ดยานางิ'],
        'เห็ดชิเมจิ': ['เห็ดชิเมจิ'],


    },
    'ผลิตภัณฑ์แปรรูปจากสัตว์': {
        'ไส้กรอก': ['sausage','ไส้กรอก'],
        'แฮม': ['ham','แฮม'],
        'ชีส': ['cheese','ชีส'],
        'โบโลน่า': ['โบโลน่า', 'Bologna'],
        'หมูยอ': ['หมูยอ'],
        

    },
    # Add more categories and subcategories as needed
}









# import tensorflow as tf
# from tensorflow.keras.models import load_model
# from tensorflow.keras.preprocessing import image
# import numpy as np

# # Load the trained model
# model = load_model('/home/chillmate/Desktop/ImgPro/Lib/groupFruit_class_epoch_200.h5')

# # Load and preprocess the image to be predicted
# img_path = '/home/chillmate/Desktop/ImgPro/ImgFood/train/fruit/Yellow and Orange Fruits/papaya/Image_6.jpg'
# img = image.load_img(img_path, target_size=(244, 244))
# img_array = image.img_to_array(img)
# img_array = np.expand_dims(img_array, axis=0)  # Add batch dimension
# img_array /= 255.  # Normalize the image data

# # Make prediction
# predictions = model.predict(img_array)

# # Get indices of predicted classes sorted by confidence level in descending order
# sorted_indices = np.argsort(-predictions[0])

# # Get class labels sorted by confidence level
# class_labels = ['Green and Brown Fruits','Red and Blue Fruits','Yellow and Orange Fruits']

# fruit_groups = {
#     'Green and Brown Fruits': ['Taro', 'Kiwi', 'Avocado', 'Coconut', 'Sapodilla', 'Potato', 'Guava', 'Custard apple', 'Melon', 'Longan'],
#     'Red and Blue Fruits': ['Tomato', 'Dragon fruit', 'Grapes', 'Rambutan', 'Lychee', 'Peach', 'Plum', 'Cherry', 'Salak', 'Apple', 'Blueberry', 'Pomegranate', 'Passion fruit', 'Watermelon', 'Mangosteen', 'Strawberry', 'Rose apple'],
#     'Yellow and Orange Fruits': ['Lemon', 'Orange', 'Chinese pear', 'Jicama', 'Durian', 'Banana', 'Pumpkin', 'Pineapple', 'Maprang', 'Mango', 'Corn', 'Pear', 'Jackfruit', 'Papaya', 'Cantaloupe'],
    
# }



# # ...

# # Print predicted labels arranged by confidence level
# print("Predicted Labels (arranged by confidence):")
# for idx, ordinal in enumerate(sorted_indices, start=1):
#     predicted_label = class_labels[ordinal]
#     confidence = predictions[0][ordinal]
#     print(f"{idx}. Label: {predicted_label} - Confidence: {confidence}")

#     # Access the corresponding subclass from fruit_groups
#     subclass = fruit_groups[predicted_label]

#     # Sort the subclass based on confidence level and alphabetically
#     sorted_subclass = sorted(subclass, key=lambda x: (predictions[0][class_labels.index(predicted_label)], x.lower()))

#     # Print the sorted subclass with confidence levels
#     print(f"   Subclass (arranged by confidence and alphabetically):")
#     for sub_idx, sub_name in enumerate(sorted_subclass, start=1):
#         sub_confidence = predictions[0][class_labels.index(predicted_label)] if sub_name in fruit_groups[predicted_label] else 0
#         print(f"      {sub_idx}. {sub_name} - Confidence: {sub_confidence * 100:.2f}%")
